#version 400

in vec3 normal_eye;

in vec4 color;
out vec4 FragColor;

uniform vec3 vLightDir;

void main()
{
	float intensity;

	intensity = dot(normalize(normal_eye),-vLightDir);
	
	vec4 outputColor = color;

	if (intensity > 0.95)
		outputColor *= 1.0f;
	else if (intensity > 0.5)
		outputColor *= 0.6f;
	else if (intensity > 0.25)
		outputColor *= 0.4f;
	else
		outputColor *= 0.2f;

    FragColor = outputColor;
};